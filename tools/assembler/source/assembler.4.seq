;*********************************;**                             **;**     COMMODORE ASSEMBLER     **;**                             **;** COPYRIGHT 1978 BY COMMODORE **;**      BUSINESS MACHINES      **;**                             **;** UNASSEMBLED,  COMMENTED AND **;** MODIFIED  BY  JOHN MCCARTHY **;**                             **;**  PART 4                     **;**                             **;*********************************;Z19F8 LDA Z0E STA Z16 LDA Z0F STA Z17 LDA Z084D STA Z1B LDA Z084D+1 ASL A ROL Z1B ASL A ROL Z1B ASL A ROL Z1B CLC  ADC Z16 STA Z1A STA Z1E LDA Z1B ADC Z17 STA Z1B STA Z1FZ1A20 SEC  LDA Z1A SBC Z16 STA Z1C LDA Z1B SBC Z17 BCS Z1A2E; BRK ;Z1A2E LSR A STA Z1D LDA Z1C ROR A AND #%11111000 STA Z1C CLC  LDA Z16 ADC Z1C STA Z18 LDA Z17 ADC Z1D STA Z19 LDY #$FFZ1A47 INY  CPY #6 BEQ Z1A77 LDA (Z18),Y CMP Z0907+1,Y BEQ Z1A47 LDA Z1C ORA Z1D BEQ Z1A6B LDA Z18 LDY Z19 BCC Z1A65 STA Z1A STY Z1B BNE Z1A20Z1A65 STA Z16 STY Z17 BNE Z1A20Z1A6B BCC Z1A76 LDA Z16 LDY Z17 STA Z1A STY Z1B CLC Z1A76 RTS ;Z1A77 LDA (Z18),Y STA NUM INY  LDA (Z18),Y STA NUM+1 LDA Z0866 BEQ Z1ACA LDA CRSREF BEQ Z1ACA SEC  LDA Z18 SBC Z0E STA Z1C LDA Z19 SBC Z0F LSR A ROR Z1C LSR A ROR Z1C LSR A ROR Z1C STA Z1D LDX #9 CPX OUTFIL BEQ Z1AB4 JSR CLRCHN LDX #9 STX OUTFIL JSR CHKOUTZ1AB4 LDA Z1C JSR CHROUT LDA Z1D JSR CHROUT LDA Z0868 JSR CHROUT LDA Z0867 JSR CHROUTZ1ACA SEC  RTS ;Z1ACC CLC  LDA Z1E ADC #8 STA Z1C LDA Z1F ADC #0 STA Z1D LDY #7 SEC  LDA Z1C SBC Z14 LDA Z1D SBC Z15 BCS Z1B29Z1AE6 LDA Z1B CMP Z1D BNE Z1AF2 LDA Z1A CMP Z1C BEQ Z1B09Z1AF2 LDA (Z1E),Y STA (Z1C),Y LDA Z1E BNE Z1AFC DEC Z1FZ1AFC DEC Z1E LDA Z1C BNE Z1B04 DEC Z1DZ1B04 DEC Z1C JMP Z1AE6;Z1B09 LDY #5Z1B0B LDA Z0907+1,Y STA (Z1A),Y DEY  BPL Z1B0B LDY #6 LDA NUM STA (Z1A),Y INY  LDA NUM+1 STA (Z1A),Y INC Z084D+1 BNE Z1B28 INC Z084DZ1B28 RTS ;Z1B29 LDA #$22 LDY #$B5 JSR STRING JMP Z27AD;Z1B33 LDA #$93 STA Z0C LDA #$20 STA Z0D LDX #0Z1B3D LDY #2Z1B3F LDA Z0907+1,Y CMP (Z0C),Y BNE Z1B56 DEY  BPL Z1B3F LDA Z221C,X STA Z0852 LDA Z2254,X STA Z0851 RTS ;Z1B56 LDA Z0C CLC  ADC #3 STA Z0C BCC Z1B61 INC Z0DZ1B61 INX  CPX #$39 BMI Z1B3D CLC  RTS ;Z1B68 PHA  TYA  PHA  STA Z0902 TXA  STA Z0902+1 PLA  TAX  LDA PC STA Z0904 LDA PC+1 STA Z0904+1 PLA  STA Z0904+2 LDA Z0868 STA Z0907 CPX #$FF BNE Z1B8D INX Z1B8D CPX #4 BNE Z1B9A LDA Z0904+2 CMP #$C9 BNE Z1B9A LDX #2Z1B9A CPX #3 BNE Z1BA7 LDA Z0904+2 CMP #$CA BNE Z1BA7 LDX #2Z1BA7 TXA  CLC  ADC PC STA PC BCC Z1BB1 INC PC+1Z1BB1 LDA Z0866 BNE Z1BC2 LDA Z0904+2 CMP #2 BEQ Z1BC2 CMP #$11 BEQ Z1BC2 RTS ;Z1BC2 LDA Z0904+2 BNE Z1BCA JMP Z1DC4;Z1BCA CMP #$CB BNE Z1BD4 LDA Z0902+1 JMP Z1CDC;Z1BD4 CMP #$CC BNE Z1BF7 LDA Z0902+1 BNE Z1BE1 ADC #0 BNE Z1BEDZ1BE1 TAX  JSR Z16BC LDA Z0857 BNE Z1BF1 LDA Z086C+1Z1BED CLC  JMP Z1CDC;Z1BF1 CMP #1 BEQ Z1BF7 LDA #$13Z1BF7 CMP #$CD BEQ Z1C18 STA Z085F LDA Z0866 BEQ Z1C15 LDA Z0904+2 CMP #2 BNE Z1C15 LDA #0 STA Z0904+2 STA Z0871 JMP Z1DC4;Z1C15 JMP Z1F43;Z1C18 LDA #0 STA Z0871 JMP Z1DF5;Z1C20 LDA Z0E STA Z02 LDA Z0F STA Z03 LDA Z086F CMP #$34 BCS Z1C35 JSR Z1CB1 JMP Z1C38;Z1C35 JSR Z1CA9Z1C38 LDA #0 STA Z0856Z1C3D LDA Z086F CMP #$3A BMI Z1C47 JSR Z1CA9Z1C47 JSR Z1F3B LDY #0Z1C4C LDA (Z02),Y JSR Z2780 INY  CPY #6 BNE Z1C4C JSR Z1F35 LDA (Z02),Y JSR PRTHEX INY  LDA (Z02),Y JSR PRTHEX INC Z0856 LDA Z0856 CMP #4 BEQ Z1C74 JSR Z1F35 JMP Z1C82;Z1C74 LDA #0 STA Z0856 JSR Z277E JSR Z27D7 INC Z086FZ1C82 CLC  LDA Z02 ADC #8 STA Z02 BCC Z1C8D INC Z03Z1C8D SEC  LDA Z084D+1 SBC #1 STA Z084D+1 LDA Z084D SBC #0 STA Z084D ORA Z084D+1 BEQ Z1CA8 BCC Z1CA8 JMP Z1C3D;Z1CA8 RTS ;Z1CA9 JSR Z1CC0 LDA #$FD STA Z086FZ1CB1 LDX #$67 JSR Z285E LDA Z086F CLC  ADC #6 STA Z086F RTS ;Z1CC0 LDY Z086FZ1CC3 CPY #$3A BCS Z1CCD JSR Z277E INY  BNE Z1CC3Z1CCD JSR Z1CD6 JSR Z277E JSR Z277EZ1CD6 JSR Z277E JMP Z277E;Z1CDC PHP  PHA  LDA #4 AND Z0874 BNE Z1CE8 PLA  PLP  RTS ;Z1CE8 PLA  PLP  BCC Z1D5A TAX  BEQ Z1D0B LDY #0Z1CF1 LDA Z0880+1,X CPY #$14 BEQ Z1D08 CMP #$27 BEQ Z1D08 STA Z08D0,Y INY  INX  CPX Z0877 BMI Z1CF1 BEQ Z1CF1Z1D08 STY Z0859Z1D0B SED  CLC  LDA Z084F ADC #1 STA Z084F LDA #0 ADC Z0850 STA Z0850 CLD  JSR Z1CC0Z1D21 LDY #0 CPY Z0859 BEQ Z1D34Z1D28 LDA Z08D0,Y JSR Z2780 INY  CPY Z0859 BMI Z1D28Z1D34 LDX #6Z1D36 LDA #$2E JSR Z2780 DEX  BNE Z1D36 LDX #3 JSR Z285E LDA Z0850 JSR PRTHEX LDA Z084F JSR PRTHEX LDX #8 JSR Z285E LDA #3 STA Z086F RTS ;Z1D5A TAY  ADC Z086F CMP #$3A BPL Z1D0B STA Z086FZ1D65 JSR Z277E DEY  BMI Z1D6D BNE Z1D65Z1D6D RTS ;Z1D6E LDA #2 CLC  JSR Z1CDC LDX #$3A DEX  CPX Z086F BCS Z1D82 LDA #0 SEC  JSR Z1CDCZ1D82 INC Z0872 LDX #$3F JSR Z285E LDX Z085B LDA Z085C JSR Z1FB8 DEC Z0872 JSR Z277E INC Z086F LDA #$40 AND Z0874 BEQ Z1DB6 LDA HRDCOP BEQ Z1DB6 LDA Z084D ORA Z084D+1 BEQ Z1DB6 JSR Z1C20 JSR Z277EZ1DB6 INC Z0872 LDX #$56 JSR Z285E DEC Z0872 JMP Z27AD;Z1DC4 LDA Z0904+2 STA Z0871 LDA Z0871 BNE Z1DE3 LDA #4 AND Z0874 BEQ Z1DE2 LDA Z087F AND #$20 BEQ Z1DF5 LDA Z0874 BPL Z1DF5Z1DE2 RTS ;Z1DE3 LDA Z0874 AND #$10 BEQ Z1DE2 LDA #0 STA Z0918 STA Z0919 STA Z091AZ1DF5 LDA Z0904 STA PC LDA Z0904+1 STA PC+1 LDA Z0902Z1E02 PHA  LDA Z0907 PHA  LDA #0 STA Z0876 LDA Z086F BEQ Z1E15 CMP #$3A BCC Z1E1BZ1E15 LDA #0 SEC  JSR Z1CDCZ1E1B PLA  TAX  LDA Z0867 JSR Z1FB8 INC Z0876 INC Z0876 JSR Z1F3B LDA Z087F AND #$20 BEQ Z1E3E LDA #$2B JSR Z2780 INC Z0876 JMP Z1E41;Z1E3E JSR Z1F3BZ1E41 LDY #0 PLA  TAX  LDA PC+1 JSR Z1F2C LDA PC JSR Z1F2C JSR Z1F38 TXA  BMI Z1E5F CMP #4 BMI Z1E5F LDX #2 SEC  SBC #2 .BYTE SKIP2Z1E5F LDA #0 PHA Z1E62 DEX  BMI Z1E78 LDA Z0918,Y JSR Z1F2C JSR Z1F3B INY  INC PC BNE Z1E75 INC PC+1Z1E75 JMP Z1E62;Z1E78 LDA Z0862 BEQ Z1E80 JMP Z1F0B;Z1E80 LDY Z0876Z1E83 JSR Z1F3E INY  CPY #$16 BMI Z1E83 INC Z0877 LDX #0 LDA Z0871 BNE Z1EE2 LDA Z0880 CMP #$3B BEQ Z1EE2 LDY #$00 LDA Z0880,Y CMP #$20 BEQ Z1EC9Z1EA5 LDA Z0880,X INX  CMP #$20 BNE Z1EB4 CPX Z0877 BCS Z1F08 BCC Z1EA5Z1EB4 JSR Z2780 INY  CPX Z0877 BCS Z1F08 LDA Z0880,X INX  CMP #$20 BNE Z1EB4 JSR Z2780 INY Z1EC9 CPY #$07 BCS Z1ED3 JSR Z1F3E INY  BNE Z1EC9Z1ED3 LDA Z0880,X CMP #$20 BNE Z1EE2 INX  CPX Z0877 BCS Z1F08 BCC Z1ED3Z1EE2 CPX Z0877 BCS Z1F08 LDA Z0880,X CMP #$3B BNE Z1F01 PHA  LDA Z087F,X CMP #$20 BNE Z1F00Z1EF6 CPY #$17 BCS Z1F00 JSR Z1F3E INY  BNE Z1EF6Z1F00 PLA Z1F01 INX  JSR Z2780 INY  BNE Z1EE2Z1F08 DEC Z0877Z1F0B JSR Z277E INC Z086F INC Z0862 PLA  BEQ Z1F2B TAX  LDA Z0874 BMI Z1F21 TXA  JMP Z1E02;Z1F21 TXA  CLC  ADC PC STA PC BCC Z1F2B INC PC+1Z1F2B RTS ;Z1F2C INC Z0876 INC Z0876 JMP PRTHEX;Z1F35 JSR Z1F3BZ1F38 JSR Z1F3BZ1F3B INC Z0876Z1F3E LDA #$20 JMP Z2780;Z1F43 INC Z0872 LDA Z0874 AND #$10 BEQ Z1FAC LDA Z086F CMP #$3A BMI Z1F5A LDA #$00 SEC  JSR Z1CDCZ1F5A JSR Z1DC4 LDX #$00 JSR Z285E JSR Z1F38 LDX Z085F TXA  AND #$0F CPX #$20 BCC Z1F71 ADC #$09Z1F71 CPX #$10 BCC Z1F77 ADC #$09Z1F77 TAX  DEX  TXA  ASL A TAX  LDA Z261B,X STA Z0A LDA Z261C,X STA Z0B LDY #$00Z1F88 LDA (Z0A),Y JSR Z2780 INY  CPY #$15 BNE Z1F88Z1F92 DEC Z0902+1 BMI Z1FA1 BEQ Z1FA1 LDA #$2A JSR Z2780 JMP Z1F92;Z1FA1 LDA #$5E JSR Z2780 JSR Z277E INC Z086FZ1FAC INC Z085B BNE Z1FB4 INC Z085CZ1FB4 DEC Z0872 RTS ;Z1FB8 STX Z087D STA Z087E LDX #$04 STX Z18Z1FC2 LDX Z18 LDY #$30 BNE Z1FC9;Z1FC8 INY Z1FC9 SEC  LDA Z087D SBC Z2655,X STA Z087D LDA Z087E SBC Z265A,X STA Z087E BCS Z1FC8 LDA Z087D ADC Z2655,X STA Z087D LDA Z087E ADC Z265A,X STA Z087E TYA  JSR Z2780 DEC Z18 BPL Z1FC2 RTS ;PRTHEX PHA  LSR A LSR A LSR A LSR A JSR PRTNYB PLA  AND #%00001111PRTNYB CLC  ADC #"0" CMP #":"Z2009 BMI NOAZD CLC  ADC #7NOAZD JMP Z2780; .END