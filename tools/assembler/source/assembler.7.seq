;*********************************;**                             **;**     COMMODORE ASSEMBLER     **;**                             **;** COPYRIGHT 1978 BY COMMODORE **;**      BUSINESS MACHINES      **;**                             **;** UNASSEMBLED,  COMMENTED AND **;** MODIFIED  BY  JOHN MCCARTHY **;**                             **;**  PART 7                     **;**                             **;*********************************;Z2928 INC Z0944 BNE Z2930 INC Z0945Z2930 LDX #0 STX Z05 LDA Z0946 CLC  ADC #3 STA Z04 LDA #$3B JSR Z297AZ2941 LDX Z05 LDA Z0946,X JSR Z2969 INC Z05 LDY Z04 CPY Z05 BNE Z2941 LDA Z0946 CLC  ADC Z0940 PHA  LDA #0 ADC Z0941 JSR Z2969 PLA  JSR Z2969 LDA #13 BNE Z297AZ2969 PHA  LSR A LSR A LSR A LSR A JSR Z29AB JSR Z297A PLA  AND #%00001111 JSR Z29ABZ297A PHA  LDA OUTFIL CMP #6 BEQ Z298D JSR CLRCHN LDX #6 STX OUTFIL JSR CHKOUTZ298D PLA  JMP CHROUT;Z2991 LDA Z0946 BEQ Z2999 JSR Z2928Z2999 LDA Z0944 STA Z0942 LDA Z0945 STA Z0943 JSR Z2904 JMP Z2928;Z29AB CLC  ADC #$F6 BCC Z29B2 ADC #6Z29B2 ADC #$3A RTS ;Z29B5 STX Z097F LDX Z0976 STX Z10 LDX Z0977 STX Z11 LDX #0 STA (Z10,X) LDX Z097F RTS ;Z29CA PHA  LDA Z0866 BEQ Z29D2 PLA  RTS ;Z29D2 PLA  JSR Z29B5 INC Z0976 BNE Z29DE INC Z0977Z29DE SEC  LDA Z0976 SBC #$FF LDA Z0977 SBC #$9B BCS Z29EC RTS ;Z29EC LDA #$22Z29EE JMP Z2C34;Z29F1 PHA  LDA Z0978 STA Z10 LDA Z0979 STA Z11 PLA  STX Z097F LDX #0 STA (Z10,X) LDX Z097F INC Z0978 LDA Z0978 SBC #$FF LDA Z0979 SBC #$9F BCS Z2A17 RTS ;Z2A17 LDA #$23 JMP Z2C34; LDA Z0863 BEQ Z2A26 LDA #$25 JMP Z2C47;Z2A26 LDA Z086A STA Z086E INC Z086E JSR Z2BAC BCC Z2A39Z2A34 LDA #$18 JMP Z2C47;Z2A39 LDX Z086E JSR LABA2Z BCC Z2A34 LDA Z086B CMP #3 BNE Z2A52 JSR Z1B33 BCC Z2A52 LDA #3 JMP Z2C47;Z2A52 JSR Z2DCB JSR Z19F8 BCC Z2A64 LDA Z0866 BNE Z2A98 LDA #2 JMP Z2C47;Z2A64 LDA #$FF STA NUM STA NUM+1 JSR Z1ACC LDA Z0976 STA Z097A LDA Z0977 STA Z097B LDY #0Z2A7D LDA (Z1A),Y JSR Z29CA INY  CPY #6 BNE Z2A7D LDY #$14Z2A89 LDA #0 JSR Z29CA DEY  BNE Z2A89 BEQ Z2A98Z2A93 LDA #13 JSR Z29CAZ2A98 JSR Z2C6B JSR Z0CEB BCC Z2AA3 JMP DOERR;Z2AA3 LDX #$FF STX Z086EZ2AA8 JSR Z2B3F BCC Z2A93 CMP #$2E BEQ Z2AB7Z2AB1 JSR Z29CA JMP Z2AA8;Z2AB7 LDA Z0976 STA Z097C LDA Z0977 STA Z097D JSR Z29CA LDY #0Z2AC8 JSR Z2B3F BCC Z2A93 STA Z097E JSR Z29CA LDA Z097E CMP Z2066,Y BEQ Z2AFD CPY #1 BNE Z2A93 CMP #$41 BNE Z2AA8 JSR Z2B3F BCC Z2A93 CMP #$43 BNE Z2AB1 LDA Z097A STA Z0976 LDA Z097B STA Z0977 LDA #$26 JMP Z2C47;Z2AFD INY  CPY #3 BNE Z2AC8 LDA Z0866 BNE Z2B34 LDA Z097C STA Z0976 LDA Z097D STA Z0977 LDA #13 JSR Z29CA LDA #0 JSR Z29CA LDA Z097A STA Z10 LDA Z097B STA Z11 LDY #6 LDA Z0976 STA (Z10),Y LDA Z0977 INY  STA (Z10),YZ2B34 JSR Z2C6B JMP Z15CB; LDA #$27 JMP Z2C47;Z2B3F LDX Z086E INX  STX Z086E LDA Z0877 CMP Z086E BCS Z2B50 CLC  RTS ;Z2B50 LDA Z0880,X SEC  RTS ;Z2B55 LDA #0 STA Z10 LDA #$88 STA Z11Z2B5D SEC  LDA Z10 SBC Z0976 LDA Z11 SBC Z0977 BCC Z2B6C CLC  RTS ;Z2B6C LDY #5Z2B6E LDA (Z10),Y CMP Z0907+1,Y BNE Z2B7A DEY  BPL Z2B6E SEC  RTS ;Z2B7A LDY #6 LDA (Z10),Y TAX  INY  LDA (Z10),Y STA Z11 STX Z10 JMP Z2B5D;Z2B89 LDA Z10 STA Z0980 LDA Z11 STA Z0981 JSR Z2C6B JSR Z2CEE LDA Z0980 STA Z10 LDA Z0981 STA Z11 JSR Z2DA9 JSR Z2BF9 JMP Z15CB;Z2BAC JSR Z15D1 BCS Z2BB3Z2BB1 SEC  RTS ;Z2BB3 LDX Z086E LDY #0 LDA Z0880,X CMP #$3B BEQ Z2BB1Z2BBF JSR LABA2Z BCS Z2BC9 JSR CHKNUM BCC Z2BD8Z2BC9 STA Z0907+1,Y INX  INY  LDA Z0880,X CPX Z0877 BEQ Z2BBF BCC Z2BBFZ2BD8 CPY #0 BEQ Z2BB1 CPY #7 BCC Z2BE5 LDA #9 JMP Z2C47;Z2BE5 LDA #$20 STY Z086BZ2BEA CPY #6 BCS Z2BF4 STA Z0907+1,Y INY  BNE Z2BEAZ2BF4 CLC  STX Z086A RTS ;Z2BF9 LDA #1 JSR Z2CCE LDY #$11 LDA #0Z2C02 STA (Z10),Y DEY  BPL Z2C02 STA Z0982 JSR Z15D1 BCC Z2C30 LDA Z0978 STA Z0980 LDA Z0979 STA Z0981Z2C1B JSR Z2C4F BCC Z2C30 CMP #$2C BEQ Z2C2A JSR Z29F1 JMP Z2C1B;Z2C2A JSR Z2C87 JMP Z2C1B;Z2C30 JSR Z2C87 RTS ;Z2C34 PHA  LDA Z0985 STA Z0978 LDA Z0986 STA Z0979 LDA #$80 STA Z087F PLA Z2C47 LDX Z086A LDY #0 JMP ERROR;Z2C4F LDX Z086E CPX Z0877 BEQ Z2C59 BCS Z2C69Z2C59 LDA Z0880,X CMP #$20 BEQ Z2C69 CMP #$3B BEQ Z2C69 INC Z086E SEC  RTS ;Z2C69 CLC  RTS ;Z2C6B PHA  TXA  PHA  TYA  PHA  LDA Z0866 BEQ Z2C81 LDA #0 TAX  TAY  JSR Z1B68 LDA #0 STA Z0862Z2C81 PLA  TAY  PLA  TAX  PLA  RTS ;Z2C87 LDA Z0978 CMP Z0980 BNE Z2C97 LDA Z0979 CMP Z0981 BEQ Z2CCAZ2C97 LDA #0 JSR Z29F1 LDA Z0982 CMP #9 BCC Z2CA8 LDA #$29 JMP Z2C34;Z2CA8 LDA Z0982 CLC  ADC #1 JSR Z2CCE LDY #0 LDA Z0980 STA (Z10),Y INY  LDA Z0981 STA (Z10),Y LDA Z0978 STA Z0980 LDA Z0979 STA Z0979Z2CCA INC Z0982 RTS ;Z2CCE SEC  SBC #1 BPL Z2CD8Z2CD3 LDA #$13 JMP Z2C34;Z2CD8 CMP #9 BCS Z2CD3 ASL A CLC  ADC #8 CLC  ADC Z0983 STA Z10 LDA Z0984 ADC #0 STA Z11 RTS ;Z2CEE INC Z098F LDA Z098F CMP #9 BCC Z2CFD LDA #$28 JMP Z29EE;Z2CFD LDA Z0978 STA Z097A LDA Z0979 STA Z097B LDA Z0985 JSR Z29F1 LDA Z0986 JSR Z29F1 LDA Z0983 JSR Z29F1 LDA Z0984 JSR Z29F1 LDA Z0987 JSR Z29F1 LDA Z0988 JSR Z29F1 LDA Z087F JSR Z29F1 LDA Z097A STA Z0985 LDA Z097B STA Z0986 RTS ;Z2D40 DEC Z098F BPL Z2D4A LDA #$24 JMP Z29EE;Z2D4A LDA Z0985 STA Z10 STA Z0978 LDA Z0986 STA Z11 STA Z0979 LDY #0 LDA (Z10),Y STA Z0985 INY  LDA (Z10),Y STA Z0986 INY  LDA (Z10),Y STA Z0983 INY  LDA (Z10),Y STA Z0984 INY  LDA (Z10),Y STA Z0987 INY  LDA (Z10),Y STA Z0988 INY  LDA (Z10),Y STA Z087F SEC  LDA Z0985 SBC #0 LDA Z0986 SBC #$88 BCS Z2D97 LDA #$24Z2D94 JMP Z29EE;Z2D97 SEC  LDA #$FF SBC Z0985 LDA #$9B SBC Z0986 BCC Z2DA8 LDA #$23 BNE Z2D94Z2DA8 RTS ;Z2DA9 LDA Z0981 STA Z0984 TAX  LDA Z0980 STA Z0983 CLC  ADC #$1A STA Z0987 TXA  ADC #0 STA Z0988 LDA Z087F ORA #$20 STA Z087F RTS ;Z2DCB LDA Z0909 CMP #" " BNE Z2DF0 LDA Z0907+1 CMP #"A" BEQ Z2DE9 CMP #"X" BEQ Z2DE9 CMP #"Y" BEQ Z2DE9 CMP #"S" BEQ Z2DE9 CMP #"P" BNE Z2DF0;Z2DE9 LDA #$20 LDY #3 JMP ERROR;Z2DF1 .END