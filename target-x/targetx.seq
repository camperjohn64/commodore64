;***********************;*                     *;* MOVE GRAPHIC TARGET *;*                     *;***********************;DOTAR DEC TARTIM BNE NMM; LDA TARSPE STA TARTIM; LDA TARGEX ; SET X1,Y1 STA X1 LDA TARGEY ; SET X1,Y1 STA Y1; LDA #$7F STA JOY2 ; RESET PORT AFTER KEYSCAN; LDA JOY2 ; NOW GET JOYSTICK DIRECTION AND #$F TAY LDX SUBXM,Y BEQ ONOD2 JSR TRCKXY ; HAVE DIRECTION, MOVE LDA X1 ; SAVE NEW LOCATION BEQ ONOD CMP #159 BCS ONOD STA TARGEX;ONOD LDA Y1 CMP #2 BCC ONOD2 CMP #164 BCS ONOD2 STA TARGEY;ONOD2 LDA VIC+16 AND #%11111110 STA TEMP LDA TARGEX CLC ADC #11 ; ACT 22 BUT ASL ASL A ; SET IN SPRITE STA VIC LDA #0 ; SET MSB ROL A ORA TEMP STA VIC+16 LDA TARGEY CLC ADC #48 STA VIC+1;NMM RTS;SUBXM .BYTE 0 ; %0000 .BYTE 8 ; %0001 DOWN .BYTE 12 ; %0010 UP .BYTE 0 ; %0011 .BYTE 4 ; %0100 RIGHT .BYTE 1 ; %0101 DOWN/RIGHT .BYTE 5 ; %0110 UP/RIGHT .BYTE 4 ; %0111 RIGHT .BYTE 2 ; %1000 LEFT .BYTE 3 ; %1001 DOWN/LEFT .BYTE 7 ; %1010 UP/LEFT .BYTE 2 ; %1011 LEFT .BYTE 0 ; %1100 .BYTE 8 ; %1101 DOWN .BYTE 12 ; %1110 UP .BYTE 0 ; %1111; .FILE GETNUM